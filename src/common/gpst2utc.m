function utc=gpst2utc(t)

leaps=[ %leap seconds (y,m,d,h,m,s,utc-gpst)
    2017,1,1,0,0,0,-18;
    2015,7,1,0,0,0,-17;
    2012,7,1,0,0,0,-16;
    2009,1,1,0,0,0,-15;
    2006,1,1,0,0,0,-14;
    1999,1,1,0,0,0,-13;
    1997,7,1,0,0,0,-12;
    1996,1,1,0,0,0,-11;
    1994,7,1,0,0,0,-10;
    1993,7,1,0,0,0, -9;
    1992,7,1,0,0,0, -8;
    1991,1,1,0,0,0, -7;
    1990,1,1,0,0,0, -6;
    1988,1,1,0,0,0, -5;
    1985,7,1,0,0,0, -4;
    1983,7,1,0,0,0, -3;
    1982,7,1,0,0,0, -2;
    1981,7,1,0,0,0, -1;
       0,0,0,0,0,0,  0];
i=1;
while leaps(i,1)>0
    tu=timeadd(t,leaps(i,7));
    if timediff(tu,epoch2time(leaps(i,1:6)))>=0
        utc=tu; return;
    end
    i=i+1;
end

utc=t;
return

